# Repository Guidelines

## Project Structure & Module Organization
- `src/` houses the React client: UI lives in `src/components/`, Gemini helpers in `src/services/` (notably `geminiAPI.js`), shared logic in `src/utils/`, and global CSS in `src/styles/`.
- `server/server.js` runs the Express proxy that keeps Gemini traffic off the browser during development.
- `public/` holds the HTML shell and static assets; `build/` is generated by `npm run build` and should remain untracked.
- `src/context/ProjectContext.js` exposes the current workspace selection so every feature reads/writes the correct project; manuscript and shot data gate on this state instead of local storage only.

## Build, Test, and Development Commands
- `npm install` installs dependencies.
- `npm start` serves the React app at `http://localhost:3000` with hot reload.
- `npm run dev` starts the nodemon-backed Express proxy; run it alongside `npm start` when exercising authenticated calls.
- `npm run build` emits the production bundle into `build/`.
- `npm test` opens the Jest runner from `react-scripts`; press `a` to re-run everything.

## Coding Style & Naming Conventions
- Favor modern ES2015+ syntax and React function components; use hooks instead of class lifecycle methods.
- Keep indentation at two spaces and split larger views into focused components under `src/components/<Feature>/`.
- Name React files in PascalCase (e.g., `ToneAnalyzer.js`), exported helpers in camelCase, and CSS classes in kebab-case.
- Rely on the ESLint rules bundled with `react-scripts`; run `npx eslint src --ext js,jsx` before submitting sizable changes.

## Testing Guidelines
- Co-locate Jest specs beside code with the `*.test.js` suffix (e.g., `ToneAnalyzer.test.js`).
- Focus on user-visible flows, service interactions, and edge cases introduced by your change.
- Use `npm test -- --coverage` to sanity-check coverage when modifying critical logic.

## Commit & Pull Request Guidelines
- Mirror the existing history with concise, imperative commit subjects (e.g., `Add scene builder validation`).
- Keep each commit scoped to one concern and reference GitHub issues with `#<id>` when relevant.
- Pull requests should explain the change, call out verification steps, and add screenshots or GIFs for UI updates.

## API Keys & Configuration
- Provide the Gemini key via `REACT_APP_GEMINI_API_KEY` in `.env` (ignored by git) or through the in-app key manager.
- Never commit secrets; strip keys from logs or issue reports before sharing.
